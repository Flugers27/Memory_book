2025-12-25 17:58:44,495 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 17:58:44,496 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 17:58:44,497 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 17:58:44,497 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 17:58:44,497 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 17:58:44,498 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 17:58:44,498 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 17:58:44,499 - sqlalchemy.engine.Engine - INFO - 
        SELECT 
            pa.id_access,
            pa.user_id,
            pa.granted_by,
            g.full_name as grantor_full_name,
            g.username as grantor_username,
            a.id_agent,
            p.id_page,
            a.full_name as agent_full_name,
            a.is_human,
            p.is_public,
            p.is_draft,
            pa.can_view,
            pa.can_edit,
            pa.granted_at,
            pa.expires_at,
            pa.is_active
        FROM page_access_control as pa
        JOIN pages as p ON pa.page_id = p.id_page
        JOIN agents as a ON p.agent_id = a.id_agent
        JOIN users as g ON pa.granted_by = g.id_user
        WHERE pa.user_id = %(user_id)s AND pa.is_active = TRUE
        ORDER BY pa.granted_at DESC
        LIMIT %(limit)s OFFSET %(skip)s
    
2025-12-25 17:58:44,502 - sqlalchemy.engine.Engine - INFO - [generated in 0.00317s] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44', 'limit': 50, 'skip': 0}
2025-12-25 17:58:44,505 - sqlalchemy.engine.Engine - INFO - 
        SELECT COUNT(*) 
        FROM page_access_control as pa
        WHERE pa.user_id = %(user_id)s AND pa.is_active = TRUE
    
2025-12-25 17:58:44,505 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44'}
2025-12-25 17:58:44,507 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 17:58:53,443 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 17:58:53,443 - sqlalchemy.engine.Engine - INFO - 
        SELECT 
            pa.id_access,
            pa.user_id,
            pa.granted_by,
            g.full_name as grantor_full_name,
            g.username as grantor_username,
            a.id_agent,
            p.id_page,
            a.full_name as agent_full_name,
            a.is_human,
            p.is_public,
            p.is_draft,
            pa.can_view,
            pa.can_edit,
            pa.granted_at,
            pa.expires_at,
            pa.is_active
        FROM page_access_control as pa
        JOIN pages as p ON pa.page_id = p.id_page
        JOIN agents as a ON p.agent_id = a.id_agent
        JOIN users as g ON pa.granted_by = g.id_user
        WHERE pa.user_id = %(user_id)s AND pa.is_active = TRUE
        ORDER BY pa.granted_at DESC
        LIMIT %(limit)s OFFSET %(skip)s
    
2025-12-25 17:58:53,444 - sqlalchemy.engine.Engine - INFO - [cached since 8.946s ago] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44', 'limit': 50, 'skip': 0}
2025-12-25 17:58:53,446 - sqlalchemy.engine.Engine - INFO - 
        SELECT COUNT(*) 
        FROM page_access_control as pa
        WHERE pa.user_id = %(user_id)s AND pa.is_active = TRUE
    
2025-12-25 17:58:53,446 - sqlalchemy.engine.Engine - INFO - [cached since 8.941s ago] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44'}
2025-12-25 17:58:53,448 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:02:41,331 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 18:02:41,331 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:02:41,332 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 18:02:41,332 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:02:41,332 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 18:02:41,333 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:02:41,333 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:02:41,333 - sqlalchemy.engine.Engine - INFO - 
        SELECT 
            pa.id_access,
            pa.granted_by,
            pa.user_id,
            u.full_name as recipient_full_name,
            u.username as recipient_username,
            a.id_agent,
            p.id_page,
            a.full_name as agent_full_name,
            a.is_human,
            p.is_public,
            p.is_draft,
            pa.can_view,
            pa.can_edit,
            pa.granted_at,
            pa.expires_at,
            pa.is_active
        FROM page_access_control as pa
        JOIN pages as p ON pa.page_id = p.id_page
        JOIN agents as a ON p.agent_id = a.id_agent
        JOIN users as u ON pa.user_id = u.id_user
        WHERE pa.granted_by = %(grantor_id)s AND pa.is_active = TRUE
        ORDER BY pa.granted_at DESC
        LIMIT %(limit)s OFFSET %(skip)s
    
2025-12-25 18:02:41,334 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'grantor_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44', 'limit': 50, 'skip': 0}
2025-12-25 18:02:41,336 - sqlalchemy.engine.Engine - INFO - 
        SELECT COUNT(*) 
        FROM page_access_control as pa
        WHERE pa.granted_by = %(grantor_id)s AND pa.is_active = TRUE
    
2025-12-25 18:02:41,336 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] {'grantor_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44'}
2025-12-25 18:02:41,337 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:16:02,457 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 18:16:02,457 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:16:02,458 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 18:16:02,458 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:16:02,458 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 18:16:02,459 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:16:02,459 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:16:02,460 - sqlalchemy.engine.Engine - INFO - 
        SELECT 
            pa.id_access,
            pa.user_id,
            pa.granted_by,
            g.full_name as grantor_full_name,
            g.username as grantor_username,
            a.id_agent,
            p.id_page,
            a.full_name as agent_full_name,
            a.is_human,
            p.is_public,
            p.is_draft,
            pa.can_view,
            pa.can_edit,
            pa.granted_at,
            pa.expires_at,
            pa.is_active
        FROM page_access_control as pa
        JOIN pages as p ON pa.page_id = p.id_page
        JOIN agents as a ON p.agent_id = a.id_agent
        JOIN users as g ON pa.granted_by = g.id_user
        WHERE pa.user_id = %(user_id)s AND pa.is_active = TRUE
        ORDER BY pa.granted_at DESC
        LIMIT %(limit)s OFFSET %(skip)s
    
2025-12-25 18:16:02,460 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44', 'limit': 50, 'skip': 0}
2025-12-25 18:16:02,461 - sqlalchemy.engine.Engine - INFO - 
        SELECT COUNT(*) 
        FROM page_access_control as pa
        WHERE pa.user_id = %(user_id)s AND pa.is_active = TRUE
    
2025-12-25 18:16:02,462 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44'}
2025-12-25 18:16:02,463 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:16:12,867 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:16:12,868 - sqlalchemy.engine.Engine - INFO - 
        SELECT 
            pa.id_access,
            pa.granted_by,
            pa.user_id,
            u.full_name as recipient_full_name,
            u.username as recipient_username,
            a.id_agent,
            p.id_page,
            a.full_name as agent_full_name,
            a.is_human,
            p.is_public,
            p.is_draft,
            pa.can_view,
            pa.can_edit,
            pa.granted_at,
            pa.expires_at,
            pa.is_active
        FROM page_access_control as pa
        JOIN pages as p ON pa.page_id = p.id_page
        JOIN agents as a ON p.agent_id = a.id_agent
        JOIN users as u ON pa.user_id = u.id_user
        WHERE pa.granted_by = %(grantor_id)s AND pa.is_active = TRUE
        ORDER BY pa.granted_at DESC
        LIMIT %(limit)s OFFSET %(skip)s
    
2025-12-25 18:16:12,869 - sqlalchemy.engine.Engine - INFO - [generated in 0.00095s] {'grantor_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44', 'limit': 50, 'skip': 0}
2025-12-25 18:16:12,870 - sqlalchemy.engine.Engine - INFO - 
        SELECT COUNT(*) 
        FROM page_access_control as pa
        WHERE pa.granted_by = %(grantor_id)s AND pa.is_active = TRUE
    
2025-12-25 18:16:12,870 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] {'grantor_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44'}
2025-12-25 18:16:12,872 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:31:07,703 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 18:31:07,703 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:31:07,704 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 18:31:07,704 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:31:07,704 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 18:31:07,705 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:31:07,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:31:07,707 - sqlalchemy.engine.Engine - INFO - SELECT pages.id_page AS pages_id_page, pages.epitaph AS pages_epitaph, pages.is_public AS pages_is_public, pages.is_draft AS pages_is_draft, pages.agent_id AS pages_agent_id, pages.created_at AS pages_created_at, pages.updated_at AS pages_updated_at, pages.user_id AS pages_user_id, pages.biography AS pages_biography 
FROM pages 
WHERE pages.id_page = %(id_page_1)s 
 LIMIT %(param_1)s
2025-12-25 18:31:07,707 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] {'id_page_1': '7ff09b55-3439-4463-8b9d-35d3c11c1d22', 'param_1': 1}
2025-12-25 18:31:07,708 - sqlalchemy.engine.Engine - INFO - SELECT pages.id_page AS pages_id_page, pages.epitaph AS pages_epitaph, pages.is_public AS pages_is_public, pages.is_draft AS pages_is_draft, pages.agent_id AS pages_agent_id, pages.created_at AS pages_created_at, pages.updated_at AS pages_updated_at, pages.user_id AS pages_user_id, pages.biography AS pages_biography 
FROM pages 
WHERE pages.id_page = %(id_page_1)s 
 LIMIT %(param_1)s
2025-12-25 18:31:07,709 - sqlalchemy.engine.Engine - INFO - [cached since 0.001733s ago] {'id_page_1': '7ff09b55-3439-4463-8b9d-35d3c11c1d22', 'param_1': 1}
2025-12-25 18:31:07,709 - sqlalchemy.engine.Engine - INFO - SELECT pages.id_page AS pages_id_page, pages.epitaph AS pages_epitaph, pages.is_public AS pages_is_public, pages.is_draft AS pages_is_draft, pages.agent_id AS pages_agent_id, pages.created_at AS pages_created_at, pages.updated_at AS pages_updated_at, pages.user_id AS pages_user_id, pages.biography AS pages_biography 
FROM pages 
WHERE pages.id_page = %(id_page_1)s 
 LIMIT %(param_1)s
2025-12-25 18:31:07,709 - sqlalchemy.engine.Engine - INFO - [cached since 0.00261s ago] {'id_page_1': '7ff09b55-3439-4463-8b9d-35d3c11c1d22', 'param_1': 1}
2025-12-25 18:31:07,711 - sqlalchemy.engine.Engine - INFO - SELECT agents.id_agent AS agents_id_agent, agents.full_name AS agents_full_name, agents.gender AS agents_gender, agents.birth_date AS agents_birth_date, agents.death_date AS agents_death_date, agents.place_of_birth AS agents_place_of_birth, agents.place_of_death AS agents_place_of_death, agents.avatar_url AS agents_avatar_url, agents.created_at AS agents_created_at, agents.updated_at AS agents_updated_at, agents.user_id AS agents_user_id, agents.is_human AS agents_is_human 
FROM agents 
WHERE agents.id_agent = %(id_agent_1)s::UUID 
 LIMIT %(param_1)s
2025-12-25 18:31:07,711 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] {'id_agent_1': UUID('62934e5c-dcf8-452c-8343-d628608edc7f'), 'param_1': 1}
2025-12-25 18:31:07,712 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:34:09,176 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 18:34:09,176 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:34:09,177 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 18:34:09,177 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:34:09,177 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 18:34:09,177 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:34:09,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:34:09,178 - sqlalchemy.engine.Engine - INFO - 
        SELECT 
            pa.id_access,
            pa.user_id,
            pa.granted_by,
            g.full_name as grantor_full_name,
            g.username as grantor_username,
            a.id_agent,
            p.id_page,
            a.full_name as agent_full_name,
            a.is_human,
            p.is_public,
            p.is_draft,
            pa.can_view,
            pa.can_edit,
            pa.granted_at,
            pa.expires_at,
            pa.is_active
        FROM page_access_control as pa
        JOIN pages as p ON pa.page_id = p.id_page
        JOIN agents as a ON p.agent_id = a.id_agent
        JOIN users as g ON pa.granted_by = g.id_user
        WHERE pa.user_id = %(user_id)s AND pa.is_active = TRUE
        ORDER BY pa.granted_at DESC
        LIMIT %(limit)s OFFSET %(skip)s
    
2025-12-25 18:34:09,179 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44', 'limit': 50, 'skip': 0}
2025-12-25 18:34:09,180 - sqlalchemy.engine.Engine - INFO - 
        SELECT COUNT(*) 
        FROM page_access_control as pa
        WHERE pa.user_id = %(user_id)s AND pa.is_active = TRUE
    
2025-12-25 18:34:09,180 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44'}
2025-12-25 18:34:09,182 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:46:45,428 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 18:46:45,428 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:46:45,429 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 18:46:45,429 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:46:45,430 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 18:46:45,430 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:46:45,430 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:46:45,431 - sqlalchemy.engine.Engine - INFO - 
        SELECT 
            pa.id_access,
            pa.granted_by,
            pa.user_id,
            u.full_name as recipient_full_name,
            u.username as recipient_username,
            a.id_agent,
            p.id_page,
            a.full_name as agent_full_name,
            a.is_human,
            p.is_public,
            p.is_draft,
            pa.can_view,
            pa.can_edit,
            pa.granted_at,
            pa.expires_at,
            pa.is_active
        FROM page_access_control as pa
        JOIN pages as p ON pa.page_id = p.id_page
        JOIN agents as a ON p.agent_id = a.id_agent
        JOIN users as u ON pa.user_id = u.id_user
        WHERE pa.granted_by = %(grantor_id)s AND pa.is_active = TRUE
        ORDER BY pa.granted_at DESC
        LIMIT %(limit)s OFFSET %(skip)s
    
2025-12-25 18:46:45,431 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] {'grantor_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44', 'limit': 50, 'skip': 0}
2025-12-25 18:46:45,432 - sqlalchemy.engine.Engine - INFO - 
        SELECT COUNT(*) 
        FROM page_access_control as pa
        WHERE pa.granted_by = %(grantor_id)s AND pa.is_active = TRUE
    
2025-12-25 18:46:45,433 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] {'grantor_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44'}
2025-12-25 18:46:45,436 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:48:41,991 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:48:41,992 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 18:48:41,993 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:48:41,995 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:49:04,920 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:49:04,921 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 18:49:04,922 - sqlalchemy.engine.Engine - INFO - [cached since 22.93s ago] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775721'}
2025-12-25 18:49:04,926 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:49:23,553 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:49:23,557 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 18:49:23,557 - sqlalchemy.engine.Engine - INFO - [cached since 41.57s ago] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:49:23,559 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 18:49:23,574 - sqlalchemy.engine.Engine - INFO - [cached since 41.58s ago] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:49:23,585 - sqlalchemy.engine.Engine - INFO - 
            SELECT p.*, a.*, u_grantor.full_name as grantor_name, u_grantor.username as grantor_username
            FROM pages p
            JOIN agents a ON p.agent_id = a.id_agent
            LEFT JOIN page_access_control pac ON p.id_page = pac.page_id AND pac.user_id = %(user_id)s AND pac.is_active = TRUE
            LEFT JOIN users u_grantor ON pac.granted_by = u_grantor.id_user
            WHERE p.id_page = %(page_id)s
        
2025-12-25 18:49:23,587 - sqlalchemy.engine.Engine - INFO - [generated in 0.00173s] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44', 'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:49:23,589 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:53:04,367 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 18:53:04,368 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:53:04,370 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 18:53:04,371 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:53:04,371 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 18:53:04,371 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:53:04,372 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:53:04,372 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 18:53:04,373 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:53:04,374 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 18:53:04,374 - sqlalchemy.engine.Engine - INFO - [cached since 0.001447s ago] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:53:04,374 - sqlalchemy.engine.Engine - INFO - 
            SELECT p.*, a.*, u_grantor.full_name as grantor_name, u_grantor.username as grantor_username
            FROM pages p
            JOIN agents a ON p.agent_id = a.id_agent
            LEFT JOIN page_access_control pac ON p.id_page = pac.page_id AND pac.user_id = %(user_id)s AND pac.is_active = TRUE
            LEFT JOIN users u_grantor ON pac.granted_by = u_grantor.id_user
            WHERE p.id_page = %(page_id)s
        
2025-12-25 18:53:04,375 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44', 'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:53:04,376 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:54:00,780 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 18:54:00,780 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:54:00,781 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 18:54:00,781 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:54:00,781 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 18:54:00,781 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:54:00,782 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:54:00,782 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 18:54:00,782 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:54:00,783 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 18:54:00,784 - sqlalchemy.engine.Engine - INFO - [cached since 0.001318s ago] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:54:00,784 - sqlalchemy.engine.Engine - INFO - 
            SELECT p.*, a.*, u_grantor.full_name as grantor_name, u_grantor.username as grantor_username
            FROM pages p
            JOIN agents a ON p.agent_id = a.id_agent
            LEFT JOIN page_access_control pac ON p.id_page = pac.page_id AND pac.user_id = %(user_id)s AND pac.is_active = TRUE
            LEFT JOIN users u_grantor ON pac.granted_by = u_grantor.id_user
            WHERE p.id_page = %(page_id)s
        
2025-12-25 18:54:00,784 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44', 'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:54:00,786 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:54:56,646 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 18:54:56,648 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:54:56,649 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 18:54:56,650 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:54:56,651 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 18:54:56,652 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:54:56,653 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:54:56,654 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 18:54:56,654 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:54:56,656 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 18:54:56,656 - sqlalchemy.engine.Engine - INFO - [cached since 0.002452s ago] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:54:56,657 - sqlalchemy.engine.Engine - INFO - 
            SELECT p.*, a.*, u_grantor.full_name as grantor_name, u_grantor.username as grantor_username
            FROM pages p
            JOIN agents a ON p.agent_id = a.id_agent
            LEFT JOIN page_access_control pac ON p.id_page = pac.page_id AND pac.user_id = %(user_id)s AND pac.is_active = TRUE
            LEFT JOIN users u_grantor ON pac.granted_by = u_grantor.id_user
            WHERE p.id_page = %(page_id)s
        
2025-12-25 18:54:56,657 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] {'user_id': 'e9121b33-1d8d-4ae3-8796-7b2804033c44', 'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:54:56,659 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 18:59:00,414 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 18:59:00,414 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:59:00,415 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 18:59:00,415 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:59:00,415 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 18:59:00,415 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 18:59:00,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 18:59:00,416 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 18:59:00,416 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 18:59:00,418 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 19:00:14,924 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 19:00:14,924 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 19:00:14,925 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 19:00:14,925 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 19:00:14,925 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 19:00:14,926 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 19:00:14,926 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 19:00:14,927 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 19:00:14,927 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 19:00:14,928 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-25 19:01:37,177 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-25 19:01:37,178 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 19:01:37,179 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-25 19:01:37,179 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 19:01:37,180 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-25 19:01:37,180 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-25 19:01:37,180 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-25 19:01:37,181 - sqlalchemy.engine.Engine - INFO - 
            SELECT id_page, user_id, is_public, is_draft
            FROM pages 
            WHERE id_page = %(page_id)s
        
2025-12-25 19:01:37,181 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'page_id': '0ace4d65-f610-4708-aa49-5859b8775722'}
2025-12-25 19:01:37,183 - sqlalchemy.engine.Engine - INFO - ROLLBACK
